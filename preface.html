<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>  Preface |  Ruby Hacking Guide </title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>

  <div id="main">

    <header>
      <h1><a href="/">Ruby Hacking Guide</a></h1>
    <header>

    <nav role="navigation">
      <ul>
      </ul>
    </nav>

    <h2>Preface</h2>
<p>This book explores several themes with the following goals in mind:</p>
<p>To have knowledge of the structure of <code>ruby</code>
To gain knowledge about language processing systems in general
To acquire skills in reading source code</p>
<p>Ruby is an object-oriented language developed by Yukihiro Matsumoto. The
official implementation of the Ruby language is called <code>ruby</code>. It is actively
developed and maintained by the open source community. Our first goal is to
understand the inner-workings of the <code>ruby</code> implementation.  This book is going
to investigate <code>ruby</code> as a whole.</p>
<p>Secondly, by knowing about the implementation of Ruby, we will be able to know
about other language processing systems. I tried to cover all topics necessary
for implementing a language, such as hash table, scanner and parser, evaluation
procedure, and many others. Although this book is not intended as a text book
and I don&#8217;t go through entire topics and schemes for a language processing
system, I tried to include adequate explanations about these concepts. For
those who are not familiar with the Ruby language yet, a brief summary is
included to help understand the topics.</p>
<p>The main themes of this book are the first and the second point above. Though,
what I want to emphasize the most is the third one: To acquire skill in reading
source code. I dare to say it&#8217;s a &#8220;hidden&#8221; theme. I will explain why we need
this.</p>
<p>It is often said &#8220;To be a skilled programmer, you should read source code
written by others.&#8221; This is certainly true. But I haven&#8217;t found a book that
explains how you can actually do it. There are many books that explain OS
kernels and the interior of language processing systems by showing the concrete
structure or &#8220;the answer,&#8221; but they don&#8217;t explain the way to reach that answer.
It&#8217;s clearly one-sided.</p>
<p>Can you, perhaps, naturally read code just because you know how to write a
program? Is it so easy to read code that all programmers are already able to
read any code by another programmer? I don&#8217;t think so.  To be skilled in
reading code is certainly as difficult as writing code.</p>
<p>In light of such questions, this book doesn&#8217;t simply provide a general
explanation of the <code>ruby</code> language, but demonstrates procedures for analyzing
source code. When I started writing this book, I had some experience with the
Ruby language, but I did not fully understand the inner structure of the <code>ruby</code>
implementation. In other words, this book begins exploring <code>ruby</code> from the same
starting place as the reader. This book is the summary of the process and
results of my code analysis from that point.</p>
<p>I asked Yukihiro Matsumoto, the author of <code>ruby</code>, for supervision. But I
thought the spirit of this book would be lost if each analysis was monitored by
the author of the language himself. Therefore I limited his review to the final
stage of writing. In this way, I tried to assure the correctness of the
contents, keeping the goal of reading code alive at the same time.</p>
<p>To be honest, this book is not easy. In the very least, it is limited in its
simplicity by the inherent complexity of its aim. However, this complexity may
be what makes the book interesting to you. Do you find it interesting to be
chattering around a piece of cake?  Do you take to your desk to solve a puzzle
that you know the answer to in a heartbeat? How about a suspense novel whose
criminal you can guess halfway through? If you really want to come to new
knowledge, you need to solve a problem engaging all your capacities. This is
the book that lets you practice such idealism exhaustively.  &#8220;I think,
therefore it&#8217;s fun!&#8221; Everybody who finds it fun gives pleasure to the author.</p>
<h2>Target audience</h2>
<p>Firstly, knowledge about the Ruby language isn&#8217;t required. However, since the
knowledge of the Ruby language is absolutely necessary to understand certain
explanations of its structure, supplementary explanations of the language are
inserted here and there.</p>
<p>Knowledge about the C language is required, to some extent. I assume you have
experience calling <code>malloc()</code> to assign a list or stack, and have used function
pointer at least a few times.</p>
<p>This book doesn&#8217;t provide a proper introduction to an object-oriented language.
You will have a difficult time if you don&#8217;t know the basics of at least one
object-oriented language. Furthermore, some examples are given in Java and C++.</p>
<h2>Structure of this book</h2>
<p>This book has four main parts:</p>
<p>Part 1: Objects
Part 2: Syntactic analysis
Part 3: Evaluation
Part 4: Peripheral around the evaluator</p>
<p>Supplementary chapters are included at the beginning of each part when
necessary. These provide a basic introduction for those who are not familiar
with Ruby and the general mechanism of a language processing system.</p>
<p>Now, we are going through the overview of the four main parts. The symbol in
parentheses after the explanation indicates the difficulty gauge. They are &#169;,
(B), (A) in order of easy to hard, (S) being the highest.</p>
<h4>Part 1: Object</h4>
<p>Chapter 1: Focuses the basics of Ruby to get ready to accomplish Part 1. &#169;
Chapter 2: Gives concrete inner structure of Ruby objects. &#169;
Chapter 3: States about hash table. &#169;
Chapter 4: Writes about Ruby class system. You may read through this chapter quickly at first, because it tells plenty of abstract stories. (A)
Chapter 5: Shows the garbage collector which is responsible for generating and releasing objects. The first story in low-level series. (B)
Chapter 6: Describes the implementation of global variables, class variables, and constants. &#169;
Chapter 7: Outline of the security features of Ruby. &#169;</p>
<h4>Part 2: Syntactic analysis</h4>
<p>Chapter 8: Talks about almost complete specification of the Ruby language, in order to prepare for Part 2 and Part 3. &#169;
Chapter 9: Introduction to <code>yacc</code> required to read the syntax file at least. (B)
Chapter 10: Look through the rules and physical structure of the parser. (A)
Chapter 11: Explore around the peripherals of <code>lex_state</code>, which is the most difficult part of the parser. The most difficult part of this book. (S)
Chapter 12: Finalization of Part 2 and connection to Part 3. &#169;</p>
<h4>Part 3: Evaluator</h4>
<p>Chapter 13: Describe the basic mechanism of the evaluator. &#169;
Chapter 14: Reads the evaluation stack that creates the main context of Ruby. (A)
Chapter 15: Talks about search and initialization of methods. (B)
Chapter 16: Defies the implementation of the iterator, the most characteristic feature of Ruby. (A)
Chapter 17: Describe the implementation of the eval methods. (B)</p>
<h4>Part 4: Peripheral around the evaluator</h4>
<p>Chapter 18: Run-time loading of libraries in C and Ruby. (B)
Chapter 19: Describes the implementation of thread at the end of the core part. (A)</p>
<h2>Environment</h2>
<p>This book describes on <code>ruby</code> 1.7.3 2002-09-12 version. It&#8217;s attached on the
CD-<span class="caps">ROM</span>. Choose any one of <code>ruby-rhg.tar.gz</code>, <code>ruby-rhg.lzh</code>, or <code>ruby-rhg.zip</code>
according to your convenience. Content is the same for all.  Alternatively you
can obtain from the support site (footnote{@http://i.loveruby.net/ja/rhg/@}) of
this book.</p>
<p>For the publication of this book, the following build environment was prepared
for confirmation of compiling and testing the basic operation. The details of
this build test are given in @ doc/buildtest.html@ in the attached CD-<span class="caps">ROM</span>.
However, it doesn&#8217;t necessarily assume the probability of the execution even
under the same environment listed in the table. The author doesn&#8217;t guarantee
in any form  the execution of <code>ruby</code>.</p>
<p>BeOS 5 Personal Edition/i386
Debian <span class="caps">GNU</span>/Linux potato/i386
Debian <span class="caps">GNU</span>/Linux woody/i386
Debian <span class="caps">GNU</span>/Linux sid/i386
FreeBSD 4.4-<span class="caps">RELEASE</span>/Alpha (Requires the local patch for this book)
FreeBSD 4.5-<span class="caps">RELEASE</span>/i386
FreeBSD 4.5-<span class="caps">RELEASE</span>/PC98
FreeBSD 5-<span class="caps">CURRENT</span>/i386
HP-UX 10.20
HP-UX 11.00 (32bit mode)
HP-UX 11.11 (32bit mode)
Mac OS X 10.2
NetBSD 1.6F/i386
OpenBSD 3.1
Plamo Linux 2.0/i386
Linux for PlayStation2 Release 1.0
Redhat Linux 7.3/i386
Solaris 2.6/Sparc
Solaris 8/Sparc
UX/4800
Vine Linux 2.1.5
Vine Linux 2.5
VineSeed
Windows 98SE (Cygwin, MinGW+Cygwin, MinGW+MSYS)
Windows Me (Borland C++ Compiler 5.5, Cygwin, MinGW+Cygwin, MinGW+MSYS, Visual C++ 6)
Windows NT 4.0 (Cygwin, MinGW+Cygwin)
Windows 2000 (Borland C++ Compiler 5.5, Visual C++ 6, Visual C++.<span class="caps">NET</span>)
Windows XP (Visual C++.<span class="caps">NET</span>, MinGW+Cygwin)</p>
<p>These numerous tests aren&#8217;t of a lone effort by the author.  Those test build
couldn&#8217;t be achieved without magnificent cooperations by the people listed
below.</p>
<p>I&#8217;d like to extend warmest thanks from my heart.</p>
<p>Tietew
kjana
nyasu
sakazuki
Masahiro Sato
Kenichi Tamura
Morikyu
Yuya Kato
Yasuhiro Kubo
Kentaro Goto
Tomoyuki Shimomura
Masaki Sukeda
Koji Arai
Kazuhiro Nishiyama
Shinya Kawaji
Tetsuya Watanabe
Naokuni Fujimoto</p>
<p>However, the author owes the responsibility for this test. Please refrain from
attempting to contact these people directly.  If there&#8217;s any flaw in execution,
please be advised to contact the author by e-mail: @aamine@loveruby.net@.</p>
<h2>Web site</h2>
<p>The web site for this book is <code>http://i.loveruby.net/ja/rhg/</code>. 
I will add information about related programs and additional documentation, as
well as errata. In addition, I&#8217;m going to publisize the first few chapters of
this book at the same time of the release. I will look for a certain
circumstance to publicize more chapters, and the whole contents of the book
will beat this website. at the end.</p>
<h2>Acknowledgment</h2>
<p>First of all, I would like to thank Mr. Yukihiro Matsumoto. He is the author of
Ruby, and he made it in public as an open source software.  Not only he
willingly approved me to publish a book about analyzing <code>ruby</code>, but also he
agreed to supervise the content of it. In addition, he helped my stay in
Florida with simultaneous translation. There are plenty of things beyond
enumeration I have to say thanks to him. Instead of writing all the things, I
give this book to him.</p>
<p>Next, I would like to thank arton, who proposed me to publish this book. The
words of arton always moves me. One of the things I&#8217;m currently struggled due
to his words is that I have no reason I don&#8217;t get a .<span class="caps">NET</span> machine.</p>
<p>Koji Arai, the &#8216;captain&#8217; of documentation in the Ruby society, conducted a
scrutiny review as if he became the official editor of this book while I was
not told so. I thank all his review.</p>
<p>Also I&#8217;d like to mention those who gave me comments, pointed out mistakes and
submitted proposals about the construction of the book throughout all my work.</p>
<p>Tietew, 
Yuya, 
Kawaji, 
Gotoken, 
Tamura, 
Funaba, 
Morikyu, 
Ishizuka, 
Shimomura, 
Kubo, 
Sukeda, 
Nishiyama, 
Fujimoto, 
Yanagawa, 
(I&#8217;m sorry if there&#8217;s any people missing), 
I thank all those people contributed.</p>
<p>As a final note, I thank Otsuka , Haruta, and Kanemitsu who you for arranging
everything despite my broke deadline as much as four times, and that the
manuscript exceeded 200 pages than originally planned.</p>
<p>I cannot expand the full list here to mention the name of all people
contributed to this book, but I say that I couldn&#8217;t successfully publish this
book without such assistance. Let me take this place to express my
appreciation. Thank you very much.</p>
<p>p(=right).</p>
<p>If you want to send remarks, suggestions and reports of typographcal errors,
please address to &quot; &lt;aamine@loveruby.net&gt;&quot;:mailto:aamine@loveruby.net.</p>
<p>&quot;&quot;Rubyソースコード完全解説&quot; can be reserved/ordered at ImpressDirect. &#8220;:http://direct.ips.co.jp/directsys/go_x_TempChoice.cfm?sh_id=EE0040&amp;spm_id=1&amp;GM_ID=1721&#8221;(Jump to the introduction page)&quot;:http://direct.ips.co.jp/directsys/go_x_TempChoice.cfm?sh_id=EE0040&amp;spm_id=1&amp;GM_ID=1721</p>
<p>Copyright &#169; 2002-2004 Minero Aoki, All rights reserved.</p>

    <footer>
      The original work is Copyright © 2002 - 2004 Minero AOKI.
      Translated by Vincent ISAMBART and Clifford Escobar CAOILE
      This work is licensed under a
      <p>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">Creative Commons Attribution-NonCommercial-ShareAlike2.5 License</a>
      </p>
    </footer>

  </div>
</body>
</html>
